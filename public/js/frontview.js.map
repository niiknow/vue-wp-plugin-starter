{"version":3,"file":"/js/frontview.js","mappings":"41BAOA,aAGAA,EAAAA,SAAe,IAAAC,iBAAgB,CAC7BC,KAAM,YACNC,MAAI,WACF,IAAMC,GAAY,IAAAC,MAAI,GAChBC,GAAgB,IAAAD,KAAI,IACpBE,EAAqB,CACzB,MAAQ,IAAAC,uBAAqB,kBAAIC,QAAAA,UAAAA,MAAAA,WAAA,WAE/B,MAAiB,GAClB,IACD,OAAS,IAAAD,uBAAqB,kBAAIC,QAAAA,UAAAA,MAAAA,WAAA,WAEhC,MAAkB,GACnB,KAQH,MAAO,CACLC,MANW,IAAAC,WAAS,WAEpB,OAAOJ,EAAaD,EAAcM,MACpC,IAIEN,cAAAA,EACAF,UAAAA,EAEJ,EACAS,QAAO,WACL,IAAMC,EAAOC,KAGTD,EAAKE,KAAKC,+BACZH,EAAKI,SAIPC,SAASC,mBAAiB,UAAI,4EACD,YAAvBD,SAASE,YACXP,EAAKI,SACP,0CAGJ,EACAI,QAAS,CACDJ,OAAM,2HACM,OAAVJ,EAAOS,EAAGC,EAAAA,KAAAA,GAEV,IAAAC,YAAS,QAGXC,EAAgBZ,EAAKE,KAAKC,+BAA+BS,iBAG3DA,EAAgBZ,EAAKa,OAAOC,MAAMlB,MAG/BgB,IACHA,EAAgB,QAGlBZ,EAAKR,cAAgBoB,EAGrBZ,EAAKV,WAAY,EACjBU,EAAKe,eAAa,0CApBR,EAqBZ,I,kCC3EJ,aAEMC,EAAa,CDFnBC,IAAAA,EACwBC,MAAM,gBCM9BhC,EAAAA,EAAA,SAAuBiC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,ODPWlC,EAAAA,YCQN,kBDRL,wBAEM,MAFN0B,EAEM,GCOC,kBDRL,kBAAkC,6BAAlBpB,EAAAA,YAFpB,8BCaA,C,4JCbA,aACA,aACA,aACA,aAEM6B,GAAM,IAAAC,WAAUC,EAAAA,SACtBF,EAAIG,IAAIC,EAAAA,SAGRC,YAAW,YACT,aAAcL,EAAK,kCACnBA,EAAIM,MAAM,qBACZ,GAAG,I,4JCZH,cAGMC,EAA2B,CAC/B,CAAEC,KAAM,IAAKC,UAHf,WAG0BC,UAGpBC,GAAS,IAAAC,cAAa,CAAEC,SAAS,IAAAC,wBAAwBP,OAAAA,IAE/D9C,EAAAA,QAAekD,C,4JCRf,cACA,aAcAlD,EAAAA,QAAe,SAACuC,GACd,IAAMe,GAAU,IAAAC,eAAc,CAC5BC,mBAAoB,CAClBC,GAAI,UACJC,GAAI,aACJ,QAAS,MAEXC,gBAAiB,KACjBC,aAAAC,EAAAA,UAGFtB,EAAIG,IAAIY,EACV,C,4JC3BA,iBACA,aAEAtD,EAAAA,QAAe,SAACuC,EAAUuB,IACxB,aAAYvB,GACZ,IAAMwB,EAAWC,OAEjBD,EAAIE,WAAa,CAAC,EAElB1B,EAAI2B,OAAOC,iBAAiBnD,KAAQ+C,EACpCxB,EAAI2B,OAAOC,iBAAiBC,MAAQC,EAAAA,QACpC9B,EAAI+B,QAAQ,MAAOP,GACnBxB,EAAI+B,QAAQ,eAAgBP,EAAID,GAClC,C,kCCdA,aAEA9D,EAAAA,EAAA,WAEE,OAAO,IAAAuE,QAAO,eAAgB,CAAC,GAAGC,WAAa,EACjD,C,oFCJOxC,MAAM,Y,GACAA,MAAM,sB,GACHyC,EAAAA,EAAAA,oBAAM,mB,cAUtB,GAAexE,EAAAA,EAAAA,iBAAgB,CAC7BC,KAAM,OACNwE,KAAG,WACD,MAAO,CACLC,IAAK,sCAET,EACArD,QAAS,CACPsD,aAAcA,EAAAA,KCdlB,OAFiC,E,QAAA,GAAgB,EAAQ,CAAC,CAAC,S,+CDJzDC,EAAAA,EAAAA,oBAKM,MALN/C,EAKM,EAJJ2C,EAAAA,EAAAA,oBAGU,UAHVK,EAGU,EALdC,EAAAA,EAAAA,kBAAAA,EAAAA,EAAAA,iBAGSJ,EAAAA,KAAM,IAAC,MAHhBI,EAAAA,EAAAA,iBAGsB,iBACJ,qBAAGH,EAAAA,gBAAY,M,gJECjC,MAAMI,GAA2B,E,QAAA,GAAgB,UAAQ,CAAC,CAAC,SAAS,OAEpE,W,oFCNOhD,MAAM,Y,GACAA,MAAM,sBASnB,OAAe/B,EAAAA,EAAAA,iBAAgB,CAC7BC,KAAM,OACNwE,KAAG,WACD,MAAO,CACLC,IAAK,+CAET,ICVF,OAFiC,E,QAAA,GAAgB,EAAQ,CAAC,CAAC,S,+CDJzDE,EAAAA,EAAAA,oBAIM,MAJN/C,EAIM,EAHJ2C,EAAAA,EAAAA,oBAEU,UAFVK,GAEU,qBADLH,EAAAA,KAAG,I,wFEFL3C,MAAM,Y,GACAA,MAAM,sBASnB,OAAe/B,EAAAA,EAAAA,iBAAgB,CAC7BC,KAAM,OACNwE,KAAG,WACD,MAAO,CACLC,IAAK,gDAET,ICVF,OAFiC,E,QAAA,GAAgB,EAAQ,CAAC,CAAC,S,+CDJzDE,EAAAA,EAAAA,oBAIM,MAJN/C,EAIM,EAHJ2C,EAAAA,EAAAA,oBAEU,UAFVK,GAEU,qBADLH,EAAAA,KAAG,I,6QEHZM,EAAOjF,QAAUkF,G","sources":["webpack://PluginFileName/./src/frontview/App.vue","webpack://PluginFileName/./src/frontview/App.vue?6719","webpack://PluginFileName/./src/frontview/frontview.ts","webpack://PluginFileName/./src/frontview/router/index.ts","webpack://PluginFileName/./src/shared/i18n.ts","webpack://PluginFileName/./src/shared/index.ts","webpack://PluginFileName/./src/shared/pluginHelpers.ts","webpack://PluginFileName/./src/frontend/views/Home.vue","webpack://PluginFileName/./src/frontend/views/Home.vue?b87e","webpack://PluginFileName/./src/frontview/App.vue?1585","webpack://PluginFileName/./src/frontview/views/Comp2.vue","webpack://PluginFileName/./src/frontview/views/Comp2.vue?dc85","webpack://PluginFileName/./src/frontview/views/Home.vue","webpack://PluginFileName/./src/frontview/views/Home.vue?73a7","webpack://PluginFileName/external var \"Vue\""],"sourcesContent":["<template>\n  <div v-if=\"hasLoaded\" class=\"main-wrapper\">\n    <component :is=\"comp\"></component>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, defineAsyncComponent, ref, nextTick, inject } from 'vue'\n\n// this demonstrate dynamic frontend app using a single view\nexport default defineComponent({\n  name: 'FrontView',\n  setup () {\n    const hasLoaded = ref(false)\n    const componentName = ref('')\n    const myComponents : any = {\n      'Home': defineAsyncComponent(() => import(\n        /* webpackChunkName: 'Home' */\n        './views/Home.vue'\n      )),\n      'Comp2': defineAsyncComponent(() => import(\n        /* webpackChunkName: 'Comp2' */\n        './views/Comp2.vue'\n      ))\n    }\n\n    const comp = computed(() => {\n      // compare two objects\n      return myComponents[componentName.value]\n    })\n\n    return {\n      comp,\n      componentName,\n      hasLoaded\n    }\n  },\n  mounted() {\n    const that = this\n\n    // @ts-ignore\n    if (that.$win.vue_wp_plugin_config_frontview) {\n      that.doLoad()\n      return\n    }\n\n    document.onreadystatechange = async () => {\n      if (document.readyState == 'complete') {\n        that.doLoad()\n      }\n    }\n\n  },\n  methods: {\n    async doLoad() {\n      const that = this\n\n      await nextTick()\n\n      // @ts-ignore\n      let viewComponent = that.$win.vue_wp_plugin_config_frontview.viewComponent\n\n      if (!viewComponent) {\n        viewComponent = that.$route.query.comp\n      }\n\n      if (!viewComponent) {\n        viewComponent = 'Home'\n      }\n\n      that.componentName = viewComponent\n\n      // make sure data is loaded before ui render\n      that.hasLoaded = true\n      that.$forceUpdate()\n    }\n  }\n})\n</script>\n\n<style scoped>\n</style>\n","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"main-wrapper\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.hasLoaded)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.comp)))\n      ]))\n    : _createCommentVNode(\"\", true)\n}","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport installShared from '../shared'\n\nconst app = createApp(App)\napp.use(router)\n\n// delay mount so we can load configuration\nsetTimeout(() => {\n  installShared(app, 'vue_wp_plugin_config_frontview')\n  app.mount('#vue-frontview-app')\n}, 200)\n","import { createRouter, createWebHashHistory, RouteRecordRaw } from 'vue-router'\nimport Home from '~src/frontend/views/Home.vue'\n\nconst routes: RouteRecordRaw[] = [\n  { path: '/', component: Home }\n]\n\nconst router = createRouter({ history: createWebHashHistory(), routes })\n\nexport default router\n","import type { App } from 'vue'\nimport { createGettext } from 'vue3-gettext'\nimport translations from '~src/../languages/translations.json'\n\n/*\nExamples:\n\nimport gettext from \"./gettext\"\n\nconst { $gettext } = gettext\n\nconst myTest = $gettext(\"My translation message\")\n\n// use in *.vue template: {{ $gettext(\"Message to translate\") }}\n*/\n\nexport default (app: App) => {\n  const gettext = createGettext({\n    availableLanguages: {\n      en: 'English',\n      vi: 'Vietnamese',\n      'zh-CN': '中文'\n    },\n    defaultLanguage: 'en',\n    translations,\n  })\n\n  app.use(gettext)\n}\n","import type { App } from 'vue'\nimport installI18n from './i18n'\nimport swal from 'sweetalert2'\n\nexport default (app: App, configName: string) => {\n  installI18n(app)\n  const win: any = window\n\n  win.$appConfig = {}\n\n  app.config.globalProperties.$win  = win\n  app.config.globalProperties.$swal = swal\n  app.provide('win', win)\n  app.provide('pluginConfig', win[configName] )\n}\n","import { inject } from 'vue'\n\nexport function getPluginUrl() {\n  // @ts-ignore\n  return inject('pluginConfig', {}).pluginUrl || ''\n}\n","<template>\n  <div class=\"app-home\">\n    <section class=\"w-full text-center\">\n      {{ msg }} <br />\n      Plugin Url: {{ getPluginUrl() }}\n    </section>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { getPluginUrl } from '~src/shared/pluginHelpers'\n\nexport default defineComponent({\n  name: 'Home',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js Frontend App'\n    }\n  },\n  methods: {\n    getPluginUrl: getPluginUrl\n  }\n})\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n","import { render } from \"./Home.vue?vue&type=template&id=0e78f491\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=0d9044d1&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"app-home\">\n    <section class=\"w-full text-center\">\n      {{ msg }}\n    </section>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'Home',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js Frontview component 2'\n    }\n  }\n})\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n","import { render } from \"./Comp2.vue?vue&type=template&id=5b42b64d\"\nimport script from \"./Comp2.vue?vue&type=script&lang=js\"\nexport * from \"./Comp2.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"app-home\">\n    <section class=\"w-full text-center\">\n      {{ msg }}\n    </section>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'Home',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js Frontview default view'\n    }\n  }\n})\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n","import { render } from \"./Home.vue?vue&type=template&id=cf4e4c1c\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","module.exports = Vue;"],"names":["exports","defineComponent","name","setup","hasLoaded","ref","componentName","myComponents","defineAsyncComponent","Promise","comp","computed","value","mounted","that","this","$win","vue_wp_plugin_config_frontview","doLoad","document","onreadystatechange","readyState","methods","_this","_context2","nextTick","viewComponent","$route","query","$forceUpdate","_hoisted_1","key","class","_ctx","_cache","$props","$setup","$data","$options","app","createApp","App_vue_1","use","router_1","setTimeout","mount","routes","path","component","Home_vue_1","router","createRouter","history","createWebHashHistory","gettext","createGettext","availableLanguages","en","vi","defaultLanguage","translations","translations_json_1","configName","win","window","$appConfig","config","globalProperties","$swal","sweetalert2_1","provide","inject","pluginUrl","_createElementVNode","data","msg","getPluginUrl","_createElementBlock","_hoisted_2","_createTextVNode","__exports__","module","Vue"],"sourceRoot":""}