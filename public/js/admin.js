"use strict";(self.webpackChunkPluginFileName=self.webpackChunkPluginFileName||[]).push([[467],{2277:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(311),a=o(n(5097));t.default=(0,r.defineComponent)({mounted:function(){(0,a.default)((0,r.inject)("pluginConfig",{}).prefix||"vue-app")}})},1350:function(e,t,n){t.s=void 0;var o=n(311),r={class:"main-wrapper"};t.s=function(e,t,n,a,l,s){var i=(0,o.resolveComponent)("router-view");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[((0,o.openBlock)(),(0,o.createBlock)(i,{key:e.$route.path}))])}},81:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(311),a=o(n(3454)),l=o(n(5915)),s=n(1905),i=n(5123),c=o(n(4498)),d=(0,r.createApp)(a.default);d.use(l.default),(0,s.registerScrollSpy)(d);d.use(i.variantJS,{TButton:{fixedClasses:"block px-4 py-2 transition duration-100 ease-in-out focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed",classes:"text-white bg-blue-500 border border-transparent shadow-sm rounded hover:bg-blue-600",variants:{secondary:{classes:"text-gray-800 bg-white border border-gray-300 shadow-sm rounded hover:text-gray-600"},error:{classes:"text-white bg-red-500 border border-transparent rounded shadow-sm hover:bg-red-600"},success:{classes:"text-white bg-green-500 border border-transparent rounded shadow-sm hover:bg-green-600"},link:{classes:"text-blue-500 underline hover:text-blue-600"}}}}),setTimeout((function(){(0,c.default)(d,"vue_wp_plugin_config_admin"),d.mount("#vue-admin-app")}),200)},5915:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(4530),a=o(n(170)),l=o(n(9877)),s=[{path:"/",component:a.default},{path:"/settings",component:l.default}],i=(0,r.createRouter)({history:(0,r.createWebHashHistory)(),routes:s});t.default=i},1043:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(7218)).default.create({baseURL:"/",withCredentials:!1,headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8","X-Requested-With":"XMLHttpRequest"}});r.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",r.interceptors.response.use((function(e){return e.headers["X-WP-Nonce"]&&(window.$appConfig.nonce=e.headers["X-WP-Nonce"]),e})),r.interceptors.request.use((function(e){return e.headers["X-WP-Nonce"]=window.$appConfig.nonce,e})),t.default=r},5525:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(5859),a=o(n(3714));t.default=function(e){var t=(0,r.createGettext)({availableLanguages:{en:"English",vi:"Vietnamese","zh-CN":"中文"},defaultLanguage:"en",translations:a.default});e.use(t)}},4498:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(5525)),a=o(n(6455));t.default=function(e,t){(0,r.default)(e);var n=window;n.$appConfig={},e.config.globalProperties.$win=n,e.config.globalProperties.$swal=a.default,e.provide("win",n),e.provide("pluginConfig",n[t])}},5097:function(e,t,n){n.r(t);n(2918);t.default=function(e){var t=window.location.href,n=t.indexOf("admin.html")>0,o=document.querySelector(n?".wp-menu-open":"#toplevel_page_".concat(e)),r=t.substr(t.indexOf(n?"#/":"admin.php"));if(o){o.addEventListener("click",(function(e){for(var t=e.target,n=this.querySelectorAll("li"),o=0;o<n.length;o++){var r=n[o];r!==e.target.parentElement?r.classList.remove("current"):t.parentElement.classList.add("current")}}));for(var a=o.querySelectorAll(".current"),l=0;l<a.length;l++){a[l].classList.remove("current")}var s=o.querySelector('.wp-submenu a[href="'.concat(r,'"'));!n&&r.endsWith("#/")&&(s=o.querySelector(".wp-submenu a.wp-first-item")),s&&(console.log(s),s.parentElement.classList.add("current"))}}},199:function(){},2399:function(){},8529:function(){},3454:function(e,t,n){n.r(t);var o=n(3947),r=n(2919),a={};for(var l in r)"default"!==l&&(a[l]=function(e){return r[e]}.bind(0,l));n.d(t,a);const s=(0,n(3744).Z)(r.default,[["render",o.s]]);t.default=s},170:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var o=n(311),r={class:"app-dashboard"},a={class:"w-full text-center"};var l=(0,o.defineComponent)({name:"Dashboard",props:{msg:{type:String,required:!1,default:"Welcome to Your Vue.js Backend App"}}});var s=(0,n(3744).Z)(l,[["render",function(e,t,n,l,s,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("section",a,(0,o.toDisplayString)(e.msg),1)])}]])},9877:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});n(4284),n(9749),n(6544);var o=n(311),r={key:0,class:"app-settings w-full flex flex-wrap mx-auto"},a={class:"w-full md:w-1/5"},l={class:"w-full sticky inset-0 max-h-64 lg:h-auto overflow-x-hidden overflow-y-auto lg:overflow-y-hidden lg:block mt-0 my-2 lg:my-0 border border-gray-400 lg:border-transparent bg-white shadow lg:shadow-none lg:bg-transparent z-20"},s={class:"space-x-3 flex justify-end pr-4 pt-2"},i={class:"list-reset py-2 md:py-0 mt-4"},c={class:"py-1 md:my-2 hover:bg-yellow-100 lg:hover:bg-transparent border-l-4 border-transparent"},d={href:"javascript:void(0)",class:"block pl-4 align-middle text-gray-700 no-underline hover:text-yellow-600"},u={class:"pb-1 md:pb-0 text-sm"},p={class:"w-full md:w-4/5 min-h-screen"},f={class:"ml-3"},m={class:"pt-4"},v={class:"font-sans font-bold break-normal text-gray-700 px-2 pb-1 text-xl w-full text-center"},g={class:"p-8 mt-6 lg:mt-0 rounded shadow bg-white"},h={class:"md:flex mb-6"},y={class:"md:w-3/5"},w={class:"block text-gray-600 font-bold md:text-left mb-3 md:mb-0 pr-4",for:"my-checkbox"},b={class:"py-2 text-sm text-gray-600"},k={class:"md:w-2/5"},x={key:0},_={key:1},V={key:2},B={key:3},E={key:4},C={key:5},N={key:6};var S=n(5861),O=n(2875),L=n(7757),$=n.n(L),j=(n(8324),n(228),n(7522),n(9358),n(5650)),D=n(6138),M=n(5303),U=n(1043),P=n.n(U),T=n(3239);n.n(T)().config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@"+n(3239).version+"/src-noconflict/");var q=(0,o.defineComponent)({components:{TToggle:j.ve,TButton:j.l8,TRichSelect:j.AQ,TTextarea:j.o5,TInput:j.ql,TSelect:j.Cs,VAceEditor:D.m,ColorInput:M.Z},name:"Settings",setup:function(){var e={},t=(0,o.reactive)((0,O.Z)({},e)),n=(0,o.reactive)({actionKey:0,loaded:!1}),r=(0,o.reactive)({sections:{},options:{}}),a=(0,o.ref)(!1),l=(0,o.computed)((function(){var o=JSON.stringify(t),r=JSON.stringify(e);return n.actionKey=n.actionKey+1,o===r}));return{settings:t,oldSettings:e,hasChanged:l,endpoints:{settings:""},ui:n,structure:r,hasLoaded:a}},methods:{doSave:function(){var e=this;return(0,S.Z)($().mark((function t(){var n,r,a,l,s;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=(0,o.toRaw)(e.settings),t.next=4,P().post(e.endpoints.settings,n);case 4:200==(r=t.sent).status?(e.$swal.fire({position:"top-end",icon:"success",title:"Your settings has been saved.",showConfirmButton:!1,timer:1500}),a=e.$win.vue_wp_plugin_config_admin,l=a.settings||{},s=(0,O.Z)({},e.settings),Object.keys(s).forEach((function(t){e.oldSettings[t]=s[t],l[t]=s[t]})),e.ui.actionKey=e.ui.actionKey+1):e.$swal.fire({icon:"error",title:"Oops...",text:"Wordpress response with error.",footer:'<div class="overflow-footer w-full">'+JSON.stringify(r,null,2)+"</div>"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.$swal.fire({icon:"error",title:"Oops...",text:"Server response with error.",footer:'<div class="overflow-footer w-full">'+t.t0.message+"</div>"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getOptions:function(e){var t=(0,O.Z)({},this.structure.options),n=[];return Object.keys(t).forEach((function(o){var r=t[o];r.section===e&&(r.id=o,n.push(r))})),n},doCancel:function(){var e=this,t=this.oldSettings;Object.keys(t).forEach((function(n){e.oldSettings[n]=t[n],e.settings[n]=t[n]}))},doLoad:function(){var e=this;return(0,S.Z)($().mark((function t(){var n,r,a;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.nextTick)();case 2:n=e.$win.vue_wp_plugin_config_admin,e.$win.$appConfig.nonce||(e.$win.$appConfig.nonce=n.rest.nonce),r=n.settingStructure,e.structure.sections=r.sections,e.structure.options=r.options,a=n.settings||{},e.endpoints=n.rest.endpoints,Object.keys(a).forEach((function(t){e.oldSettings[t]=a[t],e.settings[t]=a[t]})),e.hasLoaded=!0,e.$forceUpdate();case 12:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){var e=this,t=this;t.$win&&t.$win.vue_wp_plugin_config_admin?t.doLoad():document.onreadystatechange=(0,S.Z)($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"complete"==document.readyState&&e.doLoad();case 1:case"end":return t.stop()}}),t)})))}});var Z=(0,n(3744).Z)(q,[["render",function(e,t,n,S,O,L){var $=(0,o.resolveComponent)("t-button"),j=(0,o.resolveComponent)("t-toggle"),D=(0,o.resolveComponent)("t-rich-select"),M=(0,o.resolveComponent)("t-select"),U=(0,o.resolveComponent)("t-textarea"),P=(0,o.resolveComponent)("v-ace-editor"),T=(0,o.resolveComponent)("color-input"),q=(0,o.resolveComponent)("t-input"),Z=(0,o.resolveDirective)("scroll-spy-active"),W=(0,o.resolveDirective)("scroll-spy-link"),R=(0,o.resolveDirective)("scroll-spy");return e.hasLoaded?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("aside",a,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createVNode)($,{onClick:t[0]||(t[0]=function(t){return e.doSave()}),style:{width:"100px"},disabled:e.hasChanged,"data-rerendered":e.ui.actionKey},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Save")]})),_:1},8,["disabled","data-rerendered"]),(0,o.createVNode)($,{onClick:t[1]||(t[1]=function(t){return e.doCancel()}),variant:"secondary",style:{width:"100px"},disabled:e.hasChanged,"data-rerendered":e.ui.actionKey},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Cancel")]})),_:1},8,["disabled","data-rerendered"])]),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("ul",i,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.structure.sections,(function(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("li",c,[(0,o.createElementVNode)("a",d,[(0,o.createElementVNode)("span",u,(0,o.toDisplayString)(e),1)])])})),256))])),[[Z,{selector:"li",class:"active"}],[W]])])]),(0,o.createElementVNode)("section",p,[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",f,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.structure.sections,(function(t,n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",m,[(0,o.createElementVNode)("h2",v,(0,o.toDisplayString)(t),1),(0,o.createElementVNode)("div",g,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.getOptions(n),(function(t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",h,[(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("label",w,(0,o.toDisplayString)(t.name),1),(0,o.createElementVNode)("p",b,(0,o.toDisplayString)(t.description),1)]),(0,o.createElementVNode)("div",k,["toggle"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",x,[(0,o.createVNode)(j,{modelValue:e.settings[t.id],"onUpdate:modelValue":function(n){return e.settings[t.id]=n}},null,8,["modelValue","onUpdate:modelValue"])])):"dropdownMultiselect"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",_,[(0,o.createVNode)(D,{modelValue:e.settings[t.id],"onUpdate:modelValue":function(n){return e.settings[t.id]=n},options:t.options,multiple:"",tags:""},null,8,["modelValue","onUpdate:modelValue","options"])])):"dropdown"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",V,[(0,o.createVNode)(M,{modelValue:e.settings[t.id],"onUpdate:modelValue":function(n){return e.settings[t.id]=n},options:t.options},null,8,["modelValue","onUpdate:modelValue","options"])])):["textarea"].indexOf(t.type)>-1?((0,o.openBlock)(),(0,o.createElementBlock)("div",B,[(0,o.createVNode)(U,{modelValue:e.settings[t.id],"onUpdate:modelValue":function(n){return e.settings[t.id]=n}},null,8,["modelValue","onUpdate:modelValue"])])):"code"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",E,[(0,o.createVNode)(P,{modelValue:e.settings[t.id],"onUpdate:modelValue":function(n){return e.settings[t.id]=n},lang:"html",theme:"chrome",style:{height:"300px"}},null,8,["modelValue","onUpdate:modelValue"])])):"color"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",C,[(0,o.createVNode)(T,{modelValue:e.settings[t.id],"onUpdate:modelValue":function(n){return e.settings[t.id]=n},format:"hex"},null,8,["modelValue","onUpdate:modelValue"])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",N,[(0,o.createVNode)(q,{modelValue:e.settings[t.id],"onUpdate:modelValue":function(n){return e.settings[t.id]=n},type:t.type},null,8,["modelValue","onUpdate:modelValue","type"])]))])])})),256))])])})),256))])),[[R]])])])):(0,o.createCommentVNode)("",!0)}],["__scopeId","data-v-a6549908"]])},2919:function(e,t,n){n.r(t),n.d(t,{default:function(){return r.a}});var o=n(2277),r=n.n(o),a={};for(var l in o)"default"!==l&&(a[l]=function(e){return o[e]}.bind(0,l));n.d(t,a)},3947:function(e,t,n){n.d(t,{s:function(){return o.s}});var o=n(1350)},311:function(e){e.exports=Vue},3714:function(e){e.exports=JSON.parse('{"en":{},"zh-CN":{},"vi":{}}')}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[0,582,703,898],(function(){return t(81),t(199),t(2399),t(8529)}));e.O()}]);
//# sourceMappingURL=admin.js.map